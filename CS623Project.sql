CREATE EXTENSION postgis;
SELECT postgis_version();
SELECT postgis_full_version();


-- RETREIEVE FEATURE LOCATIONS
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941');

SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1b_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000000A0000005FE176F4A21A1F418516C9AF24E259415650B3F03F1C1F41D9B71EB51BE259419907D6A1381C1F414B6142631AE25941D9084812FC1B1F4180FE27B41BE25941109984AC671B1F410017AEED1EE25941E06BD425651B1F41043FB0F91EE2594109392036ED1A1F41233DA49121E25941BE4402A99E1A1F415BBE714923E259416058B7BC9B1A1F4101A5BC6123E259415FE176F4A21A1F418516C9AF24E25941');

SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1c_v
	WHERE ST_Equals(geom, '0106000020110F00000100000001030000000100000014000000B852B3F98AEE1E4184D79FDCEBE15941D496563ECFEC1E4196B498BDD7E159419EF4BE92CEEC1E41D250B2CBD7E159419979941FCAEC1E41C1B762B5D7E15941D5D54446A5EC1E4139315910D6E1594151B0ADB739EC1E41E6368322D1E1594146CC8EAEF2EB1E41F23265E8CDE15941DAD3A613D0EB1E41128DBF3DCCE15941ECA44C8D85EB1E416E0AF7E9C8E1594197E08DDBC1EA1E4150CBF413C0E1594127934E359AEA1E4158444BEBC3E159414A620267BBEB1E4157D3390BD1E159417FC11732DCEB1E411D334688D2E159419166111B74EC1E4177662F7AD9E1594164AAE53EA4EC1E41C447DEAADBE15941E0315B92FEEC1E41E04D9AC3DFE15941587CE41872ED1E411934AEF0E4E15941EA32EBFBC5ED1E41F65313B8E8E15941EAC79A365FEE1E413EEAFEA6EFE15941B852B3F98AEE1E4184D79FDCEBE15941');

SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1d_v
	WHERE ST_Equals(geom, '0106000020110F00000100000001030000000100000006000000508EC412AAE51E41A3AFB53487E059418DEEFA1E0EE41E411EAF31D87CE05941320DA0850DE41E413D9B58D47CE059417EF2D7E5FAE31E4158F514B47FE05941F76C1FEAC5E51E4160049F3A8BE05941508EC412AAE51E41A3AFB53487E05941');

SELECT id, categorie, ST_AsText(geom)
	FROM categorie_2_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000000B000000B57C1A9C9D551F41BCECF01E49E559419194527DB5541F410A6BFC3E53E55941F94B4F3682541F414BF4C47E55E55941EFA1B81580541F4162E16F9755E55941898900528E541F41D752AD4757E5594104B78EF292541F41E59771D357E5594160DD71D2C7541F419A3D197055E55941003FA70DBB551F4133D004164BE5594183E2DE1DF2551F41CA0577CE48E5594147707EF0DA551F419EF23A9F46E55941B57C1A9C9D551F41BCECF01E49E55941');
	

-- INTERSECTIONS
-- POINTS OF INTERSECTION IN categorie1A
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_Intersects(geom, ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857));

-- POINTS OF INTERSECTION BETWEEN categorie1A AND categorie1B
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1b_v
	WHERE ST_Intersects(geom, ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857));

-- POINTS OF INTESECTION BETWEEN categorie1A AND categorie1D
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1d_v
	WHERE ST_Intersects(geom, ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857));

-- POINTS OF INTESECTION IN categorie2
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_2_v
	WHERE ST_Intersects(geom, ST_GeomFromText(ST_AsText('0106000020110F0000010000000103000000010000000B000000B57C1A9C9D551F41BCECF01E49E559419194527DB5541F410A6BFC3E53E55941F94B4F3682541F414BF4C47E55E55941EFA1B81580541F4162E16F9755E55941898900528E541F41D752AD4757E5594104B78EF292541F41E59771D357E5594160DD71D2C7541F419A3D197055E55941003FA70DBB551F4133D004164BE5594183E2DE1DF2551F41CA0577CE48E5594147707EF0DA551F419EF23A9F46E55941B57C1A9C9D551F41BCECF01E49E55941'), 3857));


-- FEATURES WITHIN DISTANCE -> 500meters
-- FEATURES in categorie1a
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857),
		500
	)
	ORDER BY id
	LIMIT 3;

-- FEATURES IN categorie1b
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1b_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F00000100000001030000000100000024000000DA3FA777D8131F41791653395BE25941FC5D3A9B12141F41FC95C0FD57E2594185ADE3EE4C141F41E4F21AF054E259413C487A568E141F4145B49A9C51E25941553C837DCC141F4125D2A2844EE2594137E568DECD141F41A476B5A04EE259410B279DDCCE141F4148CB98934EE259411AD7EC7BB7141F416020849C4CE2594141D7E60672141F412CD980FA4FE2594157F9C59E49141F41675647FF51E25941D457B54344141F410A694C4452E25941A1C8875E3A141F4112051AC452E259417CB1FAA2D9131F4154A040DE57E25941D9D4FCE8CE131F41AB778A7458E259418EB3159372131F411C3F0BD55DE25941DA66B6946A131F41A198664D5EE25941CF4DCE8A4F131F413BC36A0460E259418B16596540131F41AB9B0AFF60E2594181239C3C31131F41E2B474F961E259414A19BD320C131F41F8EC0C6964E259419C8F811704131F414D3178EE64E25941B571371DEB121F416E1A64A166E2594187A0ED80CE121F4156A5B3A068E25941795CA5B4B4121F41411E0D766AE259413DFF0B4576121F415793942A6FE259415C5D16B14B121F4147BC067672E25941D5B86ACE42121F41C2A3EF2C73E259412DE9228201121F41620FF38878E2594148F92BC921121F411F8A82FE79E25941519D665D6B121F41853C3FF873E25941C8F176AE9F121F41AA42E9E46FE25941F63C95B1D0121F416B42CA326CE25941DE03B22128131F415C89D32966E25941E4F472CF5A131F411E4453CF62E259414A3F23D896131F41AC84740B5FE25941DA3FA777D8131F41791653395BE25941'), 3857),
		500
	)
	ORDER BY id
	LIMIT 3;

-- FEATURES IN categorie1c
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1c_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F0000010000000103000000010000003D000000719BCF489CE71E41535ECD5FA9E159415839B81793E71E415BD8B722A9E15941229858CF41E71E41F7504206A7E159412490A8C3BAE61E417C8529DBA3E159413A398F7BB3E61E415816F0AEA3E15941248562C6ADE61E41C64A126FA3E1594198D753A456E61E41D1CCAB37A1E1594151E41C8799E51E419B1D5D689CE159415AAB20667BE51E41DBF896A49BE159416B54EB5F57E51E41989602BC9AE1594115A9A40C55E51E41FEF298A39AE159417985EEBC53E51E41064E3F859AE159414D5345E152E51E416899885D9AE159417A76AD3453E51E41DFE78E369AE159410EEAAC6B54E51E414B7D66E899E15941688A1B9B55E51E418CC83EC399E15941ED1D5C7657E51E415DFFBCA999E15941ACAB30EB59E51E418F54F89B99E15941E3E1AC905CE51E412719E09C99E159414FD23F6B27E51E41AD6D70E498E1594158B54E0BF2E41E41C3FDD93D98E159410EB0CF76BCE41E41E05E2FA997E1594159C7BEB386E41E416529812697E1594139E01DC850E41E41E2F8DDB596E15941C26871A451E41E416E53F52598E15941DEEC9CD87CE41E419C64E48D98E15941C038C070AAE41E415C348E1699E159417FEDD0BDD1E41E41B8628CAB99E15941ABA2976EF0E41E41AA9E47329AE15941FCF7647B0EE51E41A075B7C19AE1594101C529A020E51E41E0FD29219BE159418DC36FC32CE51E410B3456659BE159418A3DD32B40E51E411A1AD3E59BE1594189B20AAE5FE51E41A995CFB09CE159419AC0E14F7EE51E4148B1A6769DE15941B11339533EE61E414632C558A2E1594148B41C3F40E61E41CD32D06BA2E159412DE3EC9041E61E41F3EFC687A2E159418208F72D42E61E41AC3FAEADA2E15941BFB2EBA841E61E41F4124FD4A2E159410266AB6943E61E41A926B4DEA2E1594159F84BB492E71E41572C78C0AAE15941E15DD03EE9E71E417DEC054EADE15941BD6385F630E81E415A4F0D85AFE15941557777FD77E81E41D11F72EFB1E159410E86DC53B0E81E41A37114F4B3E159419B915D5BECE81E41CEDF1F2BB6E15941962FA72F30E91E41EBEA0CDFB8E159410EEC9E756DE91E416457AC6EBBE159412D9FF7B9C4E91E417A17DB37BFE15941CD31A10F78EA1E414701163AC7E159413CAC0C1A85EA1E41DFACCEF6C5E15941413B0783D2E91E41246520FDBDE15941F0F1C7EF7AE91E419CD99030BAE1594190D186453DE91E41F3FEB79CB7E1594178D77DE0F8E81E41773B15E3B4E1594135CFED5BBCE81E41947561A7B2E15941AC435CA983E81E41BA5D769FB0E15941965A1DFC3BE81E41F866722FAEE15941DA24EAA7F3E71E4106B587F3ABE15941719BCF489CE71E41535ECD5FA9E15941'), 3857),
		500
	)
	ORDER BY id
	LIMIT 3;

-- FEATURES IN categorie1d
SELECT * FROM categorie_1d_v;
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1d_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000060000001BE91EA240091F418611E7012BE15941586AC4400F091F41F7E6456B27E159416F2848C9ED081F41EA4CBB3929E15941819EA03207091F4146EB23132BE159410BD4E5191F091F41AE0B49D12CE159411BE91EA240091F418611E7012BE15941'), 3857),
		500
	)
	ORDER BY id DESC;

-- FEATURES IN categorie2
SELECT id, categorie, ST_AsText(geom)
	FROM categorie_2_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F0000010000000103000000010000000B000000B57C1A9C9D551F41BCECF01E49E559419194527DB5541F410A6BFC3E53E55941F94B4F3682541F414BF4C47E55E55941EFA1B81580541F4162E16F9755E55941898900528E541F41D752AD4757E5594104B78EF292541F41E59771D357E5594160DD71D2C7541F419A3D197055E55941003FA70DBB551F4133D004164BE5594183E2DE1DF2551F41CA0577CE48E5594147707EF0DA551F419EF23A9F46E55941B57C1A9C9D551F41BCECF01E49E55941'), 3857),
		500
	)
	ORDER BY id DESC;


-- CALCULATING AREAS
-- AREA IN categorie1a
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_1a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941');

-- AREA OF LOCATION IN categorie1b
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_1b_v
	WHERE ST_Equals(geom,'0106000020110F00000100000001030000000100000024000000DA3FA777D8131F41791653395BE25941FC5D3A9B12141F41FC95C0FD57E2594185ADE3EE4C141F41E4F21AF054E259413C487A568E141F4145B49A9C51E25941553C837DCC141F4125D2A2844EE2594137E568DECD141F41A476B5A04EE259410B279DDCCE141F4148CB98934EE259411AD7EC7BB7141F416020849C4CE2594141D7E60672141F412CD980FA4FE2594157F9C59E49141F41675647FF51E25941D457B54344141F410A694C4452E25941A1C8875E3A141F4112051AC452E259417CB1FAA2D9131F4154A040DE57E25941D9D4FCE8CE131F41AB778A7458E259418EB3159372131F411C3F0BD55DE25941DA66B6946A131F41A198664D5EE25941CF4DCE8A4F131F413BC36A0460E259418B16596540131F41AB9B0AFF60E2594181239C3C31131F41E2B474F961E259414A19BD320C131F41F8EC0C6964E259419C8F811704131F414D3178EE64E25941B571371DEB121F416E1A64A166E2594187A0ED80CE121F4156A5B3A068E25941795CA5B4B4121F41411E0D766AE259413DFF0B4576121F415793942A6FE259415C5D16B14B121F4147BC067672E25941D5B86ACE42121F41C2A3EF2C73E259412DE9228201121F41620FF38878E2594148F92BC921121F411F8A82FE79E25941519D665D6B121F41853C3FF873E25941C8F176AE9F121F41AA42E9E46FE25941F63C95B1D0121F416B42CA326CE25941DE03B22128131F415C89D32966E25941E4F472CF5A131F411E4453CF62E259414A3F23D896131F41AC84740B5FE25941DA3FA777D8131F41791653395BE25941');

-- AREA OF LOCATION IN categorie1c
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_1c_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000003D000000719BCF489CE71E41535ECD5FA9E159415839B81793E71E415BD8B722A9E15941229858CF41E71E41F7504206A7E159412490A8C3BAE61E417C8529DBA3E159413A398F7BB3E61E415816F0AEA3E15941248562C6ADE61E41C64A126FA3E1594198D753A456E61E41D1CCAB37A1E1594151E41C8799E51E419B1D5D689CE159415AAB20667BE51E41DBF896A49BE159416B54EB5F57E51E41989602BC9AE1594115A9A40C55E51E41FEF298A39AE159417985EEBC53E51E41064E3F859AE159414D5345E152E51E416899885D9AE159417A76AD3453E51E41DFE78E369AE159410EEAAC6B54E51E414B7D66E899E15941688A1B9B55E51E418CC83EC399E15941ED1D5C7657E51E415DFFBCA999E15941ACAB30EB59E51E418F54F89B99E15941E3E1AC905CE51E412719E09C99E159414FD23F6B27E51E41AD6D70E498E1594158B54E0BF2E41E41C3FDD93D98E159410EB0CF76BCE41E41E05E2FA997E1594159C7BEB386E41E416529812697E1594139E01DC850E41E41E2F8DDB596E15941C26871A451E41E416E53F52598E15941DEEC9CD87CE41E419C64E48D98E15941C038C070AAE41E415C348E1699E159417FEDD0BDD1E41E41B8628CAB99E15941ABA2976EF0E41E41AA9E47329AE15941FCF7647B0EE51E41A075B7C19AE1594101C529A020E51E41E0FD29219BE159418DC36FC32CE51E410B3456659BE159418A3DD32B40E51E411A1AD3E59BE1594189B20AAE5FE51E41A995CFB09CE159419AC0E14F7EE51E4148B1A6769DE15941B11339533EE61E414632C558A2E1594148B41C3F40E61E41CD32D06BA2E159412DE3EC9041E61E41F3EFC687A2E159418208F72D42E61E41AC3FAEADA2E15941BFB2EBA841E61E41F4124FD4A2E159410266AB6943E61E41A926B4DEA2E1594159F84BB492E71E41572C78C0AAE15941E15DD03EE9E71E417DEC054EADE15941BD6385F630E81E415A4F0D85AFE15941557777FD77E81E41D11F72EFB1E159410E86DC53B0E81E41A37114F4B3E159419B915D5BECE81E41CEDF1F2BB6E15941962FA72F30E91E41EBEA0CDFB8E159410EEC9E756DE91E416457AC6EBBE159412D9FF7B9C4E91E417A17DB37BFE15941CD31A10F78EA1E414701163AC7E159413CAC0C1A85EA1E41DFACCEF6C5E15941413B0783D2E91E41246520FDBDE15941F0F1C7EF7AE91E419CD99030BAE1594190D186453DE91E41F3FEB79CB7E1594178D77DE0F8E81E41773B15E3B4E1594135CFED5BBCE81E41947561A7B2E15941AC435CA983E81E41BA5D769FB0E15941965A1DFC3BE81E41F866722FAEE15941DA24EAA7F3E71E4106B587F3ABE15941719BCF489CE71E41535ECD5FA9E15941');

-- AREA OF LOCATION IN categorie1d
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_1d_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000060000001BE91EA240091F418611E7012BE15941586AC4400F091F41F7E6456B27E159416F2848C9ED081F41EA4CBB3929E15941819EA03207091F4146EB23132BE159410BD4E5191F091F41AE0B49D12CE159411BE91EA240091F418611E7012BE15941');

-- AREA OF LOCATION IN categorie2
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_2_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000000B000000B57C1A9C9D551F41BCECF01E49E559419194527DB5541F410A6BFC3E53E55941F94B4F3682541F414BF4C47E55E55941EFA1B81580541F4162E16F9755E55941898900528E541F41D752AD4757E5594104B78EF292541F41E59771D357E5594160DD71D2C7541F419A3D197055E55941003FA70DBB551F4133D004164BE5594183E2DE1DF2551F41CA0577CE48E5594147707EF0DA551F419EF23A9F46E55941B57C1A9C9D551F41BCECF01E49E55941');

-- AREA OF LOCATION IN categorie2a
SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_2a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000C60000003966D41D3B431F4198A53FE2F3E65941015AF0D419431F41C8057C06F2E65941C0FEAD88B9421F41E57FE4C8ECE659410353C7FF9D421F41BDDEBA3BEBE65941337A894496421F41C83FA8C6EAE659417472433B94421F41E7A37387EAE65941F1388CD092421F41C8109038EAE659419AD7211F79421F418EE135CEE8E65941DB7C664974421F41661148C0E8E6594194F0E5C171421F41C64E56B2E8E6594194D2F2215D421F41577FA385E7E659415AF3CE2D48421F41EBA2B043E6E65941B25C1B9E3F421F41DD5B79C6E5E6594199B89AD618421F416C077A8FE3E659410F477600F4411F41161A0C7FE1E65941640F1368DB411F41DD8EC419E0E65941599AB308C1411F4183FB4F92DEE65941AD83EE01BA411F41F9BF5F28DEE659413DC6B8BAA4411F41E823B8E7DCE659411DC88DEA80411F41021C5AC4DAE65941CB2A40C36C411F419CEE1C87D9E65941F319252062411F4180B897D5D8E659414A8B2CB459411F41508E8836D8E659411BF175DE51411F41D0627291D7E659412918951A51411F41DB350083D7E659415C84590750411F4131CC646CD7E65941B62879074F411F414699E954D7E65941B0BEA21B4E411F414C999E3CD7E659412C337E444D411F4177D69423D7E659414C40AB824C411F41BF15DF09D7E659419C0CACD64B411F4113AA8EEFD6E659415B4FFF404B411F41FEAFB6D4D6E65941739141C24A411F412E9975B9D6E65941E525AF2B45411F41F28523ECD6E659418089957C3D411F413E21F190D6E65941B6DACAC529411F41FDC8767BD5E65941B9B4AC601B411F4160C2929BD4E659411ED52D1A1A411F414FA54685D4E65941D9DFABF218411F41A41FE76ED4E65941465BC1DD17411F4112BA9C57D4E65941B1E42EDC16411F41BABB773FD4E659416F9898EE15411F41DF7E8726D4E65941D13EA11515411F4164FEDC0CD4E659411DBAE05114411F41C6428AF2D3E659416FFDD0A313411F41E60CA0D7D3E659414639E90B13411F41EFC430BCD3E65941B873888A12411F41AF7E4DA0D3E659419198062012411F4106A10884D3E65941E8D6B2CC11411F41F4727767D3E659411A0CBC9011411F41911DAA4AD3E65941F760506C11411F41EFF1B52DD3E659419BCB9E5F11411F415827E610D3E65941D7B00DA8ED401F414F20431FD6E65941C5139DC2EF401F41E150901AD6E659411BAB695FF1401F4113064618D6E659415AC57DFDF2401F4101A94717D6E659418FF8CF9BF4401F411FCA9517D6E659417EA45F39F6401F41C9233019D6E65941885421D5F7401F4188B7151CD6E659415ACA216EF9401F4182DB4420D6E6594150F93B03FB401F411B9FBA25D6E659415E377593FC401F417086732CD6E65941D950E21DFE401F4124B16B34D6E6594147435EA1FF401F41243A9D3DD6E65941E621121D01411F4122DC0248D6E659418F78FF8F02411F419FCE9553D6E65941741E37F903411F41047C4E60D6E659412C1BE05705411F41DD5C256ED6E65941DD7900AB06411F419C97107DD6E65941E2C2C0F107411F411D79068DD6E659418222C12709411F418467CB9DD6E65941AC2ED4AC17411F410C16647BD7E65941C63DAA1738411F41A61E5B68D9E659414A46E7C83A411F41DEEB5691D9E65941285C46623F411F418744D9BFD9E659412C60B9FE60411F410A9123A0DBE6594128D3012F8D411F412CF31E34DEE65941961A7A1ECA411F41254E00D6E1E6594147259C22D8411F415675F9B9E2E65941A4E8C235F9411F41B76B7BA2E4E659417E95761310421F410E5234EBE5E659416893DE0C29421F412F35B756E7E65941F14B5B1329421F4187134556E7E65941FF8A47A034421F41BC5EF9FDE7E65941BCAEA9003E421F418A4B0886E8E6594180E6861F6E421F41BDE7FD3FEBE6594116180FDD82421F41DADF446EECE659411128B9C09C421F41DE3DBFD5EDE65941F18F047FAE421F41C3B449C8EEE65941D3E5F692CB421F41A9D6B06FF0E659417B396C4CF1421F41EC916A89F2E65941242147B54E431F41961BC8BDF7E65941207A118F6E431F4181C9C39DF9E6594127A0ECE5BD431F41E894FDF1FDE65941C20C8E33D3431F4190E2452BFFE65941D952463815441F4151EC380B03E75941EF6707252F441F41D21585A804E75941103E870C35441F418A599AF804E75941F52A5A374D441F411E2AC47C06E75941F72E0C3263441F41C58CD9F507E75941CE2048DE78441F41239CE15E09E75941E5813E4E8C441F418AD0B8AC0AE75941D390787CA0441F4102E888060CE759419AB8B0D5C2441F417859E75D0EE75941C0EEC487D0441F41572DC15A0FE75941A13C41C7D6441F41AC344CCE0FE759418DB5E0DFDC441F4181ACE84310E759417F0BF5D0E2441F41727589BB10E75941AE206662F1441F41D52236F311E7594197C73BA0FA441F41481387BD12E759415730D0F7FD441F41D8F64CFB12E75941B7CC790901451F41E9699E3C13E7594146BF7DD103451F411F0A2C8113E759412BAC7A4C06451F418186A2C813E75941EBD46C7708451F41DB04AB1214E759415BC2B14F0A451F413F8BEB5E14E759416A780BD30B451F41506D07AD14E75941BB2FA3FF0C451F41FBBC9FFC14E75941D8910BD40D451F41D4BD534D15E759414B75424F0E451F41925AC19E15E759416E17B2700E451F41559C85F015E7594174D231380E451F41E9223D4216E75941E04E06A60D451F41999D849316E759411F30E1BA0C451F41BE43F9E316E75941B83CE0770B451F41FB4C393317E75941FC028CDE09451F410168E48017E75941FDFBD5F007451F41922F9CCC17E75941062F16B105451F41559D041618E75941052F16B105451F41559D041618E75941A3E16D161D451F41566F96A019E75941A8A60E4F2A451F41CDB2E0A219E759410EA34C0739451F4105475A761AE75941B30D6EB63B451F414634CDAB1AE7594179BAF7665F451F41D3A712801DE7594130B7351A85451F41DDA4538020E75941D0BF738DA8451F4167D7FF4A23E75941DECC9651B3451F41D532DA2424E759416D8132A1B4451F41579A990D24E75941E03A85E2B4451F419EE5B2D923E75941420B26BDB7451F4115EFCAAC23E75941753DBCAFBC451F41F443C3F023E759416A308228C9451F41016576BA24E75941B87748F5E0451F41149B2B2223E7594118B23B09BF451F41BD6782DE20E75941711B1AF397451F41EA9C32E81DE75941037AE5777A451F411B98243E1BE7594144D0399C68451F41058C8B5719E75941AA434B2762451F412DD864ED18E75941F3E54D755F451F410122AFAB18E7594132DF35B957451F41FF4D571617E7594158636A854E451F418C70F78815E75941A3B804E243451F410737ED0414E759410F9D61D837451F4197178E8B12E759419E0819732A451F41B024261E11E759419E0819732A451F41B024261E11E7594140DA111A22451F4117BEC75310E75941B556C19F1B451F4151A004BC0FE75941C6DF0CF613451F41D38E27240FE75941B985B0CA0B451F410CF90EAB0EE75941AC9A4D1F06451F41251433450EE75941A3D4FA6DFF441F4166009BD50DE7594114F36E36EA441F41DE1B258F0CE75941C9D09C71C5441F415054685B0AE759411DC60638AC441F41AAA869D008E759419CD35E7DAB441F418BE825B608E759415FF3116DAB441F415A85019A08E759418F08CD7FAB441F417C10878108E75941418453B3AB441F4181143B6908E7594149014A07AC441F4148204A5108E75941192E107BAC441F41F8A1E13908E75941FD5CD70DAD441F41D6312A2308E75941890AA1BEAD441F417D4F4C0D08E7594136991B8CAE441F417DA471F807E75941FBE7D374AF441F410C62BFE407E75941CA1B0A77B0441F41A90B5BD207E75941163B05A6A1441F419E7A880407E759416455FEF39C441F4164713E4807E759417C5836D09B441F41884AE95407E7594122607B639A441F412D85A75F07E7594122B270DF98441F41C938766607E759412870C84E97441F410C7F256907E759416CDA96BC95441F419DA2A26707E75941D4BCEF3394441F413854F86107E75941EBE092BF92441F4155C54D5807E75941D978925183441F4118F89EA506E759415680FE925D441F411EF55C7804E759411FA7F4A647441F41AF91492703E75941941C33D845441F419F1F8C0B03E759415D9486CE37441F41D1E2B93302E75941AE7BCBFF34441F410D858A0802E7594111E18334FA431F41CA690897FEE659416CD28F01EA431F41C6F654A9FDE65941271FA8E9D9431F41A1EDA2B8FCE65941FD7D105AD4431F414EBA6768FCE65941CD3C43AB63431F417F9ECF25F6E65941B91B21585D431F41385379CBF5E65941EC42F56B54431F4157E7E84BF5E659413966D41D3B431F4198A53FE2F3E65941');

-- FINDING DISTANCES
-- DISTANCE OF A POINT IN categorie1a
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_1a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941');

-- DISTANCE OF A POINT IN categorie1b
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_1b_v
	WHERE ST_Equals(geom, '0106000020110F00000100000001030000000100000024000000DA3FA777D8131F41791653395BE25941FC5D3A9B12141F41FC95C0FD57E2594185ADE3EE4C141F41E4F21AF054E259413C487A568E141F4145B49A9C51E25941553C837DCC141F4125D2A2844EE2594137E568DECD141F41A476B5A04EE259410B279DDCCE141F4148CB98934EE259411AD7EC7BB7141F416020849C4CE2594141D7E60672141F412CD980FA4FE2594157F9C59E49141F41675647FF51E25941D457B54344141F410A694C4452E25941A1C8875E3A141F4112051AC452E259417CB1FAA2D9131F4154A040DE57E25941D9D4FCE8CE131F41AB778A7458E259418EB3159372131F411C3F0BD55DE25941DA66B6946A131F41A198664D5EE25941CF4DCE8A4F131F413BC36A0460E259418B16596540131F41AB9B0AFF60E2594181239C3C31131F41E2B474F961E259414A19BD320C131F41F8EC0C6964E259419C8F811704131F414D3178EE64E25941B571371DEB121F416E1A64A166E2594187A0ED80CE121F4156A5B3A068E25941795CA5B4B4121F41411E0D766AE259413DFF0B4576121F415793942A6FE259415C5D16B14B121F4147BC067672E25941D5B86ACE42121F41C2A3EF2C73E259412DE9228201121F41620FF38878E2594148F92BC921121F411F8A82FE79E25941519D665D6B121F41853C3FF873E25941C8F176AE9F121F41AA42E9E46FE25941F63C95B1D0121F416B42CA326CE25941DE03B22128131F415C89D32966E25941E4F472CF5A131F411E4453CF62E259414A3F23D896131F41AC84740B5FE25941DA3FA777D8131F41791653395BE25941');

-- DISTANCE OF A POINT IN categorie1c
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_1c_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000003D000000719BCF489CE71E41535ECD5FA9E159415839B81793E71E415BD8B722A9E15941229858CF41E71E41F7504206A7E159412490A8C3BAE61E417C8529DBA3E159413A398F7BB3E61E415816F0AEA3E15941248562C6ADE61E41C64A126FA3E1594198D753A456E61E41D1CCAB37A1E1594151E41C8799E51E419B1D5D689CE159415AAB20667BE51E41DBF896A49BE159416B54EB5F57E51E41989602BC9AE1594115A9A40C55E51E41FEF298A39AE159417985EEBC53E51E41064E3F859AE159414D5345E152E51E416899885D9AE159417A76AD3453E51E41DFE78E369AE159410EEAAC6B54E51E414B7D66E899E15941688A1B9B55E51E418CC83EC399E15941ED1D5C7657E51E415DFFBCA999E15941ACAB30EB59E51E418F54F89B99E15941E3E1AC905CE51E412719E09C99E159414FD23F6B27E51E41AD6D70E498E1594158B54E0BF2E41E41C3FDD93D98E159410EB0CF76BCE41E41E05E2FA997E1594159C7BEB386E41E416529812697E1594139E01DC850E41E41E2F8DDB596E15941C26871A451E41E416E53F52598E15941DEEC9CD87CE41E419C64E48D98E15941C038C070AAE41E415C348E1699E159417FEDD0BDD1E41E41B8628CAB99E15941ABA2976EF0E41E41AA9E47329AE15941FCF7647B0EE51E41A075B7C19AE1594101C529A020E51E41E0FD29219BE159418DC36FC32CE51E410B3456659BE159418A3DD32B40E51E411A1AD3E59BE1594189B20AAE5FE51E41A995CFB09CE159419AC0E14F7EE51E4148B1A6769DE15941B11339533EE61E414632C558A2E1594148B41C3F40E61E41CD32D06BA2E159412DE3EC9041E61E41F3EFC687A2E159418208F72D42E61E41AC3FAEADA2E15941BFB2EBA841E61E41F4124FD4A2E159410266AB6943E61E41A926B4DEA2E1594159F84BB492E71E41572C78C0AAE15941E15DD03EE9E71E417DEC054EADE15941BD6385F630E81E415A4F0D85AFE15941557777FD77E81E41D11F72EFB1E159410E86DC53B0E81E41A37114F4B3E159419B915D5BECE81E41CEDF1F2BB6E15941962FA72F30E91E41EBEA0CDFB8E159410EEC9E756DE91E416457AC6EBBE159412D9FF7B9C4E91E417A17DB37BFE15941CD31A10F78EA1E414701163AC7E159413CAC0C1A85EA1E41DFACCEF6C5E15941413B0783D2E91E41246520FDBDE15941F0F1C7EF7AE91E419CD99030BAE1594190D186453DE91E41F3FEB79CB7E1594178D77DE0F8E81E41773B15E3B4E1594135CFED5BBCE81E41947561A7B2E15941AC435CA983E81E41BA5D769FB0E15941965A1DFC3BE81E41F866722FAEE15941DA24EAA7F3E71E4106B587F3ABE15941719BCF489CE71E41535ECD5FA9E15941');

-- DISTANCE OF A POINT IN categorie1d
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_1d_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000060000001BE91EA240091F418611E7012BE15941586AC4400F091F41F7E6456B27E159416F2848C9ED081F41EA4CBB3929E15941819EA03207091F4146EB23132BE159410BD4E5191F091F41AE0B49D12CE159411BE91EA240091F418611E7012BE15941');

-- DISTANCE OF A POINT IN categorie2
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_2_v
	WHERE ST_Equals(geom, '0106000020110F0000010000000103000000010000000B000000B57C1A9C9D551F41BCECF01E49E559419194527DB5541F410A6BFC3E53E55941F94B4F3682541F414BF4C47E55E55941EFA1B81580541F4162E16F9755E55941898900528E541F41D752AD4757E5594104B78EF292541F41E59771D357E5594160DD71D2C7541F419A3D197055E55941003FA70DBB551F4133D004164BE5594183E2DE1DF2551F41CA0577CE48E5594147707EF0DA551F419EF23A9F46E55941B57C1A9C9D551F41BCECF01E49E55941');

-- DISTANCE OF A POINT IN categorie2a
SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_2a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000C60000003966D41D3B431F4198A53FE2F3E65941015AF0D419431F41C8057C06F2E65941C0FEAD88B9421F41E57FE4C8ECE659410353C7FF9D421F41BDDEBA3BEBE65941337A894496421F41C83FA8C6EAE659417472433B94421F41E7A37387EAE65941F1388CD092421F41C8109038EAE659419AD7211F79421F418EE135CEE8E65941DB7C664974421F41661148C0E8E6594194F0E5C171421F41C64E56B2E8E6594194D2F2215D421F41577FA385E7E659415AF3CE2D48421F41EBA2B043E6E65941B25C1B9E3F421F41DD5B79C6E5E6594199B89AD618421F416C077A8FE3E659410F477600F4411F41161A0C7FE1E65941640F1368DB411F41DD8EC419E0E65941599AB308C1411F4183FB4F92DEE65941AD83EE01BA411F41F9BF5F28DEE659413DC6B8BAA4411F41E823B8E7DCE659411DC88DEA80411F41021C5AC4DAE65941CB2A40C36C411F419CEE1C87D9E65941F319252062411F4180B897D5D8E659414A8B2CB459411F41508E8836D8E659411BF175DE51411F41D0627291D7E659412918951A51411F41DB350083D7E659415C84590750411F4131CC646CD7E65941B62879074F411F414699E954D7E65941B0BEA21B4E411F414C999E3CD7E659412C337E444D411F4177D69423D7E659414C40AB824C411F41BF15DF09D7E659419C0CACD64B411F4113AA8EEFD6E659415B4FFF404B411F41FEAFB6D4D6E65941739141C24A411F412E9975B9D6E65941E525AF2B45411F41F28523ECD6E659418089957C3D411F413E21F190D6E65941B6DACAC529411F41FDC8767BD5E65941B9B4AC601B411F4160C2929BD4E659411ED52D1A1A411F414FA54685D4E65941D9DFABF218411F41A41FE76ED4E65941465BC1DD17411F4112BA9C57D4E65941B1E42EDC16411F41BABB773FD4E659416F9898EE15411F41DF7E8726D4E65941D13EA11515411F4164FEDC0CD4E659411DBAE05114411F41C6428AF2D3E659416FFDD0A313411F41E60CA0D7D3E659414639E90B13411F41EFC430BCD3E65941B873888A12411F41AF7E4DA0D3E659419198062012411F4106A10884D3E65941E8D6B2CC11411F41F4727767D3E659411A0CBC9011411F41911DAA4AD3E65941F760506C11411F41EFF1B52DD3E659419BCB9E5F11411F415827E610D3E65941D7B00DA8ED401F414F20431FD6E65941C5139DC2EF401F41E150901AD6E659411BAB695FF1401F4113064618D6E659415AC57DFDF2401F4101A94717D6E659418FF8CF9BF4401F411FCA9517D6E659417EA45F39F6401F41C9233019D6E65941885421D5F7401F4188B7151CD6E659415ACA216EF9401F4182DB4420D6E6594150F93B03FB401F411B9FBA25D6E659415E377593FC401F417086732CD6E65941D950E21DFE401F4124B16B34D6E6594147435EA1FF401F41243A9D3DD6E65941E621121D01411F4122DC0248D6E659418F78FF8F02411F419FCE9553D6E65941741E37F903411F41047C4E60D6E659412C1BE05705411F41DD5C256ED6E65941DD7900AB06411F419C97107DD6E65941E2C2C0F107411F411D79068DD6E659418222C12709411F418467CB9DD6E65941AC2ED4AC17411F410C16647BD7E65941C63DAA1738411F41A61E5B68D9E659414A46E7C83A411F41DEEB5691D9E65941285C46623F411F418744D9BFD9E659412C60B9FE60411F410A9123A0DBE6594128D3012F8D411F412CF31E34DEE65941961A7A1ECA411F41254E00D6E1E6594147259C22D8411F415675F9B9E2E65941A4E8C235F9411F41B76B7BA2E4E659417E95761310421F410E5234EBE5E659416893DE0C29421F412F35B756E7E65941F14B5B1329421F4187134556E7E65941FF8A47A034421F41BC5EF9FDE7E65941BCAEA9003E421F418A4B0886E8E6594180E6861F6E421F41BDE7FD3FEBE6594116180FDD82421F41DADF446EECE659411128B9C09C421F41DE3DBFD5EDE65941F18F047FAE421F41C3B449C8EEE65941D3E5F692CB421F41A9D6B06FF0E659417B396C4CF1421F41EC916A89F2E65941242147B54E431F41961BC8BDF7E65941207A118F6E431F4181C9C39DF9E6594127A0ECE5BD431F41E894FDF1FDE65941C20C8E33D3431F4190E2452BFFE65941D952463815441F4151EC380B03E75941EF6707252F441F41D21585A804E75941103E870C35441F418A599AF804E75941F52A5A374D441F411E2AC47C06E75941F72E0C3263441F41C58CD9F507E75941CE2048DE78441F41239CE15E09E75941E5813E4E8C441F418AD0B8AC0AE75941D390787CA0441F4102E888060CE759419AB8B0D5C2441F417859E75D0EE75941C0EEC487D0441F41572DC15A0FE75941A13C41C7D6441F41AC344CCE0FE759418DB5E0DFDC441F4181ACE84310E759417F0BF5D0E2441F41727589BB10E75941AE206662F1441F41D52236F311E7594197C73BA0FA441F41481387BD12E759415730D0F7FD441F41D8F64CFB12E75941B7CC790901451F41E9699E3C13E7594146BF7DD103451F411F0A2C8113E759412BAC7A4C06451F418186A2C813E75941EBD46C7708451F41DB04AB1214E759415BC2B14F0A451F413F8BEB5E14E759416A780BD30B451F41506D07AD14E75941BB2FA3FF0C451F41FBBC9FFC14E75941D8910BD40D451F41D4BD534D15E759414B75424F0E451F41925AC19E15E759416E17B2700E451F41559C85F015E7594174D231380E451F41E9223D4216E75941E04E06A60D451F41999D849316E759411F30E1BA0C451F41BE43F9E316E75941B83CE0770B451F41FB4C393317E75941FC028CDE09451F410168E48017E75941FDFBD5F007451F41922F9CCC17E75941062F16B105451F41559D041618E75941052F16B105451F41559D041618E75941A3E16D161D451F41566F96A019E75941A8A60E4F2A451F41CDB2E0A219E759410EA34C0739451F4105475A761AE75941B30D6EB63B451F414634CDAB1AE7594179BAF7665F451F41D3A712801DE7594130B7351A85451F41DDA4538020E75941D0BF738DA8451F4167D7FF4A23E75941DECC9651B3451F41D532DA2424E759416D8132A1B4451F41579A990D24E75941E03A85E2B4451F419EE5B2D923E75941420B26BDB7451F4115EFCAAC23E75941753DBCAFBC451F41F443C3F023E759416A308228C9451F41016576BA24E75941B87748F5E0451F41149B2B2223E7594118B23B09BF451F41BD6782DE20E75941711B1AF397451F41EA9C32E81DE75941037AE5777A451F411B98243E1BE7594144D0399C68451F41058C8B5719E75941AA434B2762451F412DD864ED18E75941F3E54D755F451F410122AFAB18E7594132DF35B957451F41FF4D571617E7594158636A854E451F418C70F78815E75941A3B804E243451F410737ED0414E759410F9D61D837451F4197178E8B12E759419E0819732A451F41B024261E11E759419E0819732A451F41B024261E11E7594140DA111A22451F4117BEC75310E75941B556C19F1B451F4151A004BC0FE75941C6DF0CF613451F41D38E27240FE75941B985B0CA0B451F410CF90EAB0EE75941AC9A4D1F06451F41251433450EE75941A3D4FA6DFF441F4166009BD50DE7594114F36E36EA441F41DE1B258F0CE75941C9D09C71C5441F415054685B0AE759411DC60638AC441F41AAA869D008E759419CD35E7DAB441F418BE825B608E759415FF3116DAB441F415A85019A08E759418F08CD7FAB441F417C10878108E75941418453B3AB441F4181143B6908E7594149014A07AC441F4148204A5108E75941192E107BAC441F41F8A1E13908E75941FD5CD70DAD441F41D6312A2308E75941890AA1BEAD441F417D4F4C0D08E7594136991B8CAE441F417DA471F807E75941FBE7D374AF441F410C62BFE407E75941CA1B0A77B0441F41A90B5BD207E75941163B05A6A1441F419E7A880407E759416455FEF39C441F4164713E4807E759417C5836D09B441F41884AE95407E7594122607B639A441F412D85A75F07E7594122B270DF98441F41C938766607E759412870C84E97441F410C7F256907E759416CDA96BC95441F419DA2A26707E75941D4BCEF3394441F413854F86107E75941EBE092BF92441F4155C54D5807E75941D978925183441F4118F89EA506E759415680FE925D441F411EF55C7804E759411FA7F4A647441F41AF91492703E75941941C33D845441F419F1F8C0B03E759415D9486CE37441F41D1E2B93302E75941AE7BCBFF34441F410D858A0802E7594111E18334FA431F41CA690897FEE659416CD28F01EA431F41C6F654A9FDE65941271FA8E9D9431F41A1EDA2B8FCE65941FD7D105AD4431F414EBA6768FCE65941CD3C43AB63431F417F9ECF25F6E65941B91B21585D431F41385379CBF5E65941EC42F56B54431F4157E7E84BF5E659413966D41D3B431F4198A53FE2F3E65941');


-- QUERY OPTIMIZATION -> table index
CREATE INDEX cat_1a_idx
	ON categorie_1a_v
	USING GIST(geom);

CREATE INDEX cat_1b_idx
	ON categorie_1b_v
	USING GIST(geom);

CREATE INDEX cat_1c_idx
	ON categorie_1c_v
	USING GIST(geom);

CREATE INDEX cat_1d_idx
	ON categorie_1d_v
	USING GIST(geom);
	
CREATE INDEX cat_2_idx
	ON categorie_2_v
	USING GIST(geom);

CREATE INDEX cat_2a_idx
	ON categorie_2a_v
	USING GIST(geom);


-- QUERY ANALYSIS
-- EXPLAIN SELECT
EXPLAIN SELECT * 
	FROM categorie_1a_v
	ORDER BY id DESC
	LIMIT 10;

-- EXPLAIN RETRIEVE FEATURE LOCATION
EXPLAIN SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941');

-- EXPLAIN INTERSECTIONS
EXPLAIN SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_Intersects(geom, ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857));

-- EXPLAIN SELECT FEATURES WITHIN DISTANCE
EXPLAIN SELECT id, categorie, ST_AsText(geom)
	FROM categorie_1a_v
	WHERE ST_DWithin(
		geom,
		ST_GeomFromText(ST_AsText('0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941'), 3857),
		500
	)
	ORDER BY id
	LIMIT 3;

-- EXPLAIN CALCULATING AREA
EXPLAIN SELECT id, categorie, ST_Area(geom) AS area
	FROM categorie_1a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000090000009C81D87B761B1F41DA7B4B9E21E2594171E6EC79471C1F41ABF584111DE259415650B3F03F1C1F41D9B71EB51BE259415FE176F4A21A1F418516C9AF24E259413602D9B7AA1A1F413FDB431726E259414C7CD972AD1A1F418D424FF325E25941B723A540731B1F416D22C3A921E25941475D4864761B1F4147905E9A21E259419C81D87B761B1F41DA7B4B9E21E25941');

-- EXPLAIN FINDING DISTANCE
EXPLAIN SELECT id, categorie, ST_Distance(
	ST_GeomFromText(ST_AsText(geom)),
	ST_GeomFromText('LINESTRING(2 2, -2 2)')
	) AS distance
	FROM categorie_2a_v
	WHERE ST_Equals(geom, '0106000020110F000001000000010300000001000000C60000003966D41D3B431F4198A53FE2F3E65941015AF0D419431F41C8057C06F2E65941C0FEAD88B9421F41E57FE4C8ECE659410353C7FF9D421F41BDDEBA3BEBE65941337A894496421F41C83FA8C6EAE659417472433B94421F41E7A37387EAE65941F1388CD092421F41C8109038EAE659419AD7211F79421F418EE135CEE8E65941DB7C664974421F41661148C0E8E6594194F0E5C171421F41C64E56B2E8E6594194D2F2215D421F41577FA385E7E659415AF3CE2D48421F41EBA2B043E6E65941B25C1B9E3F421F41DD5B79C6E5E6594199B89AD618421F416C077A8FE3E659410F477600F4411F41161A0C7FE1E65941640F1368DB411F41DD8EC419E0E65941599AB308C1411F4183FB4F92DEE65941AD83EE01BA411F41F9BF5F28DEE659413DC6B8BAA4411F41E823B8E7DCE659411DC88DEA80411F41021C5AC4DAE65941CB2A40C36C411F419CEE1C87D9E65941F319252062411F4180B897D5D8E659414A8B2CB459411F41508E8836D8E659411BF175DE51411F41D0627291D7E659412918951A51411F41DB350083D7E659415C84590750411F4131CC646CD7E65941B62879074F411F414699E954D7E65941B0BEA21B4E411F414C999E3CD7E659412C337E444D411F4177D69423D7E659414C40AB824C411F41BF15DF09D7E659419C0CACD64B411F4113AA8EEFD6E659415B4FFF404B411F41FEAFB6D4D6E65941739141C24A411F412E9975B9D6E65941E525AF2B45411F41F28523ECD6E659418089957C3D411F413E21F190D6E65941B6DACAC529411F41FDC8767BD5E65941B9B4AC601B411F4160C2929BD4E659411ED52D1A1A411F414FA54685D4E65941D9DFABF218411F41A41FE76ED4E65941465BC1DD17411F4112BA9C57D4E65941B1E42EDC16411F41BABB773FD4E659416F9898EE15411F41DF7E8726D4E65941D13EA11515411F4164FEDC0CD4E659411DBAE05114411F41C6428AF2D3E659416FFDD0A313411F41E60CA0D7D3E659414639E90B13411F41EFC430BCD3E65941B873888A12411F41AF7E4DA0D3E659419198062012411F4106A10884D3E65941E8D6B2CC11411F41F4727767D3E659411A0CBC9011411F41911DAA4AD3E65941F760506C11411F41EFF1B52DD3E659419BCB9E5F11411F415827E610D3E65941D7B00DA8ED401F414F20431FD6E65941C5139DC2EF401F41E150901AD6E659411BAB695FF1401F4113064618D6E659415AC57DFDF2401F4101A94717D6E659418FF8CF9BF4401F411FCA9517D6E659417EA45F39F6401F41C9233019D6E65941885421D5F7401F4188B7151CD6E659415ACA216EF9401F4182DB4420D6E6594150F93B03FB401F411B9FBA25D6E659415E377593FC401F417086732CD6E65941D950E21DFE401F4124B16B34D6E6594147435EA1FF401F41243A9D3DD6E65941E621121D01411F4122DC0248D6E659418F78FF8F02411F419FCE9553D6E65941741E37F903411F41047C4E60D6E659412C1BE05705411F41DD5C256ED6E65941DD7900AB06411F419C97107DD6E65941E2C2C0F107411F411D79068DD6E659418222C12709411F418467CB9DD6E65941AC2ED4AC17411F410C16647BD7E65941C63DAA1738411F41A61E5B68D9E659414A46E7C83A411F41DEEB5691D9E65941285C46623F411F418744D9BFD9E659412C60B9FE60411F410A9123A0DBE6594128D3012F8D411F412CF31E34DEE65941961A7A1ECA411F41254E00D6E1E6594147259C22D8411F415675F9B9E2E65941A4E8C235F9411F41B76B7BA2E4E659417E95761310421F410E5234EBE5E659416893DE0C29421F412F35B756E7E65941F14B5B1329421F4187134556E7E65941FF8A47A034421F41BC5EF9FDE7E65941BCAEA9003E421F418A4B0886E8E6594180E6861F6E421F41BDE7FD3FEBE6594116180FDD82421F41DADF446EECE659411128B9C09C421F41DE3DBFD5EDE65941F18F047FAE421F41C3B449C8EEE65941D3E5F692CB421F41A9D6B06FF0E659417B396C4CF1421F41EC916A89F2E65941242147B54E431F41961BC8BDF7E65941207A118F6E431F4181C9C39DF9E6594127A0ECE5BD431F41E894FDF1FDE65941C20C8E33D3431F4190E2452BFFE65941D952463815441F4151EC380B03E75941EF6707252F441F41D21585A804E75941103E870C35441F418A599AF804E75941F52A5A374D441F411E2AC47C06E75941F72E0C3263441F41C58CD9F507E75941CE2048DE78441F41239CE15E09E75941E5813E4E8C441F418AD0B8AC0AE75941D390787CA0441F4102E888060CE759419AB8B0D5C2441F417859E75D0EE75941C0EEC487D0441F41572DC15A0FE75941A13C41C7D6441F41AC344CCE0FE759418DB5E0DFDC441F4181ACE84310E759417F0BF5D0E2441F41727589BB10E75941AE206662F1441F41D52236F311E7594197C73BA0FA441F41481387BD12E759415730D0F7FD441F41D8F64CFB12E75941B7CC790901451F41E9699E3C13E7594146BF7DD103451F411F0A2C8113E759412BAC7A4C06451F418186A2C813E75941EBD46C7708451F41DB04AB1214E759415BC2B14F0A451F413F8BEB5E14E759416A780BD30B451F41506D07AD14E75941BB2FA3FF0C451F41FBBC9FFC14E75941D8910BD40D451F41D4BD534D15E759414B75424F0E451F41925AC19E15E759416E17B2700E451F41559C85F015E7594174D231380E451F41E9223D4216E75941E04E06A60D451F41999D849316E759411F30E1BA0C451F41BE43F9E316E75941B83CE0770B451F41FB4C393317E75941FC028CDE09451F410168E48017E75941FDFBD5F007451F41922F9CCC17E75941062F16B105451F41559D041618E75941052F16B105451F41559D041618E75941A3E16D161D451F41566F96A019E75941A8A60E4F2A451F41CDB2E0A219E759410EA34C0739451F4105475A761AE75941B30D6EB63B451F414634CDAB1AE7594179BAF7665F451F41D3A712801DE7594130B7351A85451F41DDA4538020E75941D0BF738DA8451F4167D7FF4A23E75941DECC9651B3451F41D532DA2424E759416D8132A1B4451F41579A990D24E75941E03A85E2B4451F419EE5B2D923E75941420B26BDB7451F4115EFCAAC23E75941753DBCAFBC451F41F443C3F023E759416A308228C9451F41016576BA24E75941B87748F5E0451F41149B2B2223E7594118B23B09BF451F41BD6782DE20E75941711B1AF397451F41EA9C32E81DE75941037AE5777A451F411B98243E1BE7594144D0399C68451F41058C8B5719E75941AA434B2762451F412DD864ED18E75941F3E54D755F451F410122AFAB18E7594132DF35B957451F41FF4D571617E7594158636A854E451F418C70F78815E75941A3B804E243451F410737ED0414E759410F9D61D837451F4197178E8B12E759419E0819732A451F41B024261E11E759419E0819732A451F41B024261E11E7594140DA111A22451F4117BEC75310E75941B556C19F1B451F4151A004BC0FE75941C6DF0CF613451F41D38E27240FE75941B985B0CA0B451F410CF90EAB0EE75941AC9A4D1F06451F41251433450EE75941A3D4FA6DFF441F4166009BD50DE7594114F36E36EA441F41DE1B258F0CE75941C9D09C71C5441F415054685B0AE759411DC60638AC441F41AAA869D008E759419CD35E7DAB441F418BE825B608E759415FF3116DAB441F415A85019A08E759418F08CD7FAB441F417C10878108E75941418453B3AB441F4181143B6908E7594149014A07AC441F4148204A5108E75941192E107BAC441F41F8A1E13908E75941FD5CD70DAD441F41D6312A2308E75941890AA1BEAD441F417D4F4C0D08E7594136991B8CAE441F417DA471F807E75941FBE7D374AF441F410C62BFE407E75941CA1B0A77B0441F41A90B5BD207E75941163B05A6A1441F419E7A880407E759416455FEF39C441F4164713E4807E759417C5836D09B441F41884AE95407E7594122607B639A441F412D85A75F07E7594122B270DF98441F41C938766607E759412870C84E97441F410C7F256907E759416CDA96BC95441F419DA2A26707E75941D4BCEF3394441F413854F86107E75941EBE092BF92441F4155C54D5807E75941D978925183441F4118F89EA506E759415680FE925D441F411EF55C7804E759411FA7F4A647441F41AF91492703E75941941C33D845441F419F1F8C0B03E759415D9486CE37441F41D1E2B93302E75941AE7BCBFF34441F410D858A0802E7594111E18334FA431F41CA690897FEE659416CD28F01EA431F41C6F654A9FDE65941271FA8E9D9431F41A1EDA2B8FCE65941FD7D105AD4431F414EBA6768FCE65941CD3C43AB63431F417F9ECF25F6E65941B91B21585D431F41385379CBF5E65941EC42F56B54431F4157E7E84BF5E659413966D41D3B431F4198A53FE2F3E65941');
